<html># Spectral Super Resolution Analyzer<br>
<br>
A Plugin for ImageJ that takes localisations (usually from Super Resolution Microscopy) and creates pairs from them.<br>
<br>
It does this based on the assumption that a grating was fixed in front of the camera sensor and thus each feature produced multiple localisations, with a distance based on the wavelength of the original signal.<br>
<br>
This Plugin features a module that tries to determine the angle of the grating, as well as the wavelength range used to detect pairs. These values can also be determined manually by following the instructions in AngleDistance.md.<br>
This might not work if too few frames are provided; try to provide at least a few thousand.
<br>
# Usage<br>
<br>
This plugin takes as an input one csv file. The ones generated by ThunderSTORM will work without any changes.<br>
This csv file should have a header and can have either a tab, semicolon or comma as seperator.<br>
The required columns are: frame, x, y, intensity.<br>
<br>
The settings and their effects are as follows:<br>
The start and end settings will calculate any value that is unset(=0).<br>
* Angles start and end - The range between which the angle must be (rad)<br>
* Distance start and end - The range between the distance between features must me<br>
* Number of Orders - The maximum number of orders to search for<br>
<br>
* Restrict Delta Z - A pair is not allowed to have more than delta z difference<br>
* max delta z [nm] - The maximum delta z.<br>
<br>
* Intensity Order Required - Require that each next order has less intensity<br>
* Ratio between orders - The amount by which the next order has less intensity<br>
<br>
<br>
* Flip angle/Mirror Angle - The angle could be calculated incorrectly due to quirks with FFT. These settings allow you to manipulate which angle is found<br>
* (Deep) Search for Angles - Search for the first (or best with the most pairs) option that gives good results. Select these options if you are not getting good results.<br>
<br>
<br>
* Remove lone points - Select this options if some sparse noise appears. It will filter out pairs that do not fulfil the next settings<br>
* Required Neighbours - This will require points to have at least N neighbours within the Required Distance<br>
* Required Distance - This sets the distance within which the N neighbours must be found<br>
<br>
<br>
* Visualise Results - Set this to show a variety of graphs and histograms displaying the results<br>
* Histogram binwidth - Sets the width of the distance histograms bins. This value is calibrated for a sample in nm.<br>
* LUT - This shows all LUT's available for your ImageJ and allows you to select one<br>
* LUT start and end - Allows you to display a custom range (same unit as distance) for the LUT visualization<br>
<br>
<br>
<br>
# Running from a Macro<br>
<br>
This plugin can also be run from a macro.<br>
An example: run("Analyze Pairs", "csv_in=F:\ThesisData\output\combined_drift.csv angle_start=-0.094 angle_end=0.22 distance_start=1500 distance_end=2200 visualisation=true")<br>
All keywords must be provided in the format: keyword=value, seperated by spaces.<br>
The keywords available are:<br>
<br>
* csv_in - Filepath to the csv input file<br>
* csv_out - Directory Path to the folder where the output is written to<br>
* angle_start - lower angle boundary (rad)<br>
* angle_end - upper angle boundary (rad)<br>
* distance_start - lower distance boundary<br>
* distance_end - upper distance boundary<br>
* check_z - Require that a pair has a maximum delta z
* check_z_margin - The maximum delta z a pair can have (nm)
* order_number - The maximum number of orders to search for<br>
* check_order_intensity - Require that each next order has less intensity<br>
* check_order_ratio - The amount by which the next order has less intensity<br>
* angle_flip - Flip the Angle<br>
* angle_mirror - Mirror the Angle<br>
* angle_search - Search for the first best result<br>
* angle_deep_search - Search all possibilities for the best results<br>
* lone_pair_remove - Select this options if some sparse noise appears. It will filter out pairs that do not fulfil the next settings<br>
* lone_pair_neighbours - This will require points to have at least N neighbours within the Required Distance<br>
* lone_pair_distance - This sets the distance within which the N neighbours must be found<br>
* visualisation - Set this to show a variety of graphs and histograms displaying the results<br>
* hist_binwidth - Sets the width of the distance histograms bins. This value is calibrated for a sample in nm.<br>
* LUT - The LUT to select<br>
* LUT_start - LUT start (same unit as distance)<br>
* LUT_end - LUT end (same unit as distance)<br><br>
